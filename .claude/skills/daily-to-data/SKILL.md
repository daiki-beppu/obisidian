---
name: daily-to-data
description: daily ノートから学習内容を data/ フォーマットに変換してナレッジベースを構築する。ユーザーが「daily ノートを data/ に変換」「今日学んだことをまとめて」などと言った場合や、特定の日付の daily ノートの変換を指定した場合に使用する。
---

# Daily To Data コンバーター

## 概要

このスキルは daily ノート（`daily/YYYY-MM-DD.md`）から学習内容を抽出し、構造化された data フォーマット（`data/`）に変換してナレッジベースを構築する。「今日学んだこと」または「今日の学び、やったこと」セクションを抽出し、適切なタイトルとタグを生成して、正しくフォーマットされた data ファイルを作成する。

## ワークフロー

### 1. 対象の daily ノートを特定

変換する daily ノートを決定する：
- ユーザーが日付を指定した場合：その特定の daily ノートを使用
- ユーザーが「今日学んだことをまとめて」と言った場合：今日の daily ノートを使用
- ユーザーが「daily ノートを data/ に変換」と言った場合：どの日付を変換するか質問する

### 2. 学習内容を抽出

daily ノートを読み込み、学習セクションを特定する：
- 「## 今日学んだこと」または「## 今日の学び、やったこと」を探す
- 次の H2 見出しまでの全コンテンツを抽出する

**変換をスキップする条件：**
- セクションに `log/` ファイルへのリンクのみが含まれている場合（例：`[[filename]]`）
- セクションが空または最小限の内容（2行未満）の場合

**変換を進める条件：**
- 詳細な学習内容が直接書かれている場合
- 簡単な説明と URL がある場合

### 3. コンテンツを分析してタイトルを生成

抽出したコンテンツを分析して、簡潔で説明的なタイトルを生成する：
- カバーされている主なトピックを特定する
- コンテンツを要約するタイトルを作成する（5〜15単語）
- コンテンツ分析が不明確な場合は、元のセクション見出しをフォールバックとして使用する

**タイトル例：**
- 「CS50x Lecture 0 - Scratch」
- 「Obsidian と NotebookLM の連携方法」
- 「Claude Code のベストプラクティス」

### 4. タグを提案

コンテンツを分析して、ユーザー確認用の関連カテゴリタグを提案する：
- コンテンツテーマに基づいて、2〜4個の主要カテゴリタグを特定する
- 特定のサブトピック用の追加フッタータグ（2〜3個）を提案する
- AskUserQuestion ツールを使用してタグ提案を提示し、ユーザーの承認を得る

**一般的なカテゴリタグ：**
- #プログラミング, #コンピュータサイエンス, #AI, #開発ツール, #学習方法, #キャリア など

**一般的なフッタータグ：**
- #基礎知識, #2進数, #エンコーディング, #ベストプラクティス など

### 5. コンテンツを構造化

抽出したコンテンツを論理的なセクションに整理する：
- H3 見出し（###）を作成して主要トピックを分割する
- 箇条書きとコードブロックを使用して読みやすさを向上させる
- 元の画像、URL、フォーマットを保持する
- 元のコンテンツが簡潔すぎる場合は、コンテキストや説明を追加する

### 6. data/ ファイルを生成

適切な命名とフォーマットでファイルを作成する：

**ファイル命名規則：**
```
YYYY-MM-DDTHHMMSS+0900_データ_{title}.md
```

ファイル名には現在のタイムスタンプを使用する（daily ノートの日付ではない）。

**ファイル構造：**

```markdown
---
source: ""
published:
created: YYYY-MM-DD
---
#データ

#{category_tag1} #{category_tag2} #{category_tag3}

## {タイトル}

### {セクション 1}

{コンテンツ}

### {セクション 2}

{コンテンツ}

#{footer_tag1}, #{footer_tag2}, #{footer_tag3}
```

**フィールド仕様：**
- `source`：空のまま（daily ノートには外部ソースがない）
- `published`：空のまま
- `created`：現在の日付を使用（YYYY-MM-DD 形式）
- 最初のタグ行：常に `#データ`
- 2行目のタグ：スペース区切りのカテゴリタグ
- フッタータグ：ファイル末尾のカンマ区切りタグ

### 7. 完了を確認

ファイル作成後、ユーザーに以下を通知する：
- ファイルパスを確認
- カバーされた主なトピックを要約
- 適用されたタグを表示

## data/ フォーマット仕様

### Frontmatter（YAML）

```yaml
---
source: ""           # 外部 URL（daily ノートの場合は空）
published:           # 公開日（通常は空）
created: YYYY-MM-DD  # ISO 形式の作成日
---
```

### タグ構造

```markdown
#データ

#{カテゴリタグ1} #{カテゴリタグ2} #{カテゴリタグ3}
```

- 1行目：常に `#データ`（data/ コンテンツであることを示す）
- 2行目以降：スペース区切りのカテゴリタグ（2〜4個推奨）

### コンテンツ構造

- メインタイトルには H2（##）を使用
- サブセクションには H3（###）を使用
- 元の画像、コードブロック、フォーマットを保持
- 明確化のために必要に応じてコンテキストを追加

### フッタータグ

```markdown
#{tag1}, #{tag2}, #{tag3}
```

特定のサブトピック用のカンマ区切りフッタータグでファイルを終了する。

## 例

### 例 1：詳細な技術コンテンツ

**ユーザーリクエスト：** 「2026-01-02 の daily ノートを data/ に変換して」

**Daily ノートコンテンツ：**
```markdown
## 今日学んだこと

- CS50x Lecture 0 - Scratch

### CS50x Lecture 0 - Scratch

解決したい課題がインプット
解決して得たいものがアウトプット
その中間がブラックボックス...
```

**生成されたファイル：** `2026-01-06T223521+0900_データ_CS50x Lecture 0 - Scratch.md`

**提案されたタグ：** #コンピュータサイエンス #プログラミング #CS50 / #基礎知識, #2進数, #エンコーディング

### 例 2：URL 付きの簡単なコンテンツ

**ユーザーリクエスト：** 「今日学んだことをまとめて」

**Daily ノートコンテンツ：**
```markdown
## 今日の学び、やったこと

- obisidan + NoteBookLM

### obisidan + NoteBookLM

https://techblog.sakurug.co.jp/article/obsidian_notebooklm_googledrive/

こちらの記事を参考に設定
```

**生成されたファイル：** `2026-01-03T164729+0900_データ_Obsidian と NotebookLM の連携.md`

**提案されたタグ：** #ナレッジ管理 #AI活用 #Obsidian / #NotebookLM, #ツール連携

### 例 3：変換をスキップ（log/ リンクのみ）

**Daily ノートコンテンツ：**
```markdown
## 今日の学び、やったこと

- [[AI時代の開発と要件定義に関する理解の振り返り]]
```

**アクション：** 変換をスキップし、このコンテンツが既に `log/` フォーマットにあることをユーザーに通知する。

## ベストプラクティス

1. **タグ確認には必ず AskUserQuestion を使用** - タグを推測せず、ユーザーに提案を検証してもらう
2. **元のコンテンツの忠実性を保持** - 画像、URL、フォーマットをそのまま保つ
3. **必要に応じて構造を追加** - daily ノートのコンテンツに構造がない場合は、H3 見出しを追加して整理する
4. **現在のタイムスタンプを生成** - ファイル名には daily ノートの日付ではなく、現在の日時を使用する
5. **適切にスキップ** - log/ リンクや空のセクションは変換しない
