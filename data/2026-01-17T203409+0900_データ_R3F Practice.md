---
source: "http://localhost:5173/"
published:
created: 2026-01-17
---
#データ

エラーの説明

  このTypeScriptエラーは、React Three Fiber (R3F) での bufferAttribute の構文が間違っていることを示しています。

  現在のコード (間違い):
  ```ts
<bufferAttribute
	attach="attributes-position"
	count={verticesCount}
	itemSize={3}
	array={positions}
/>
  ```

  問題点:
  - R3F では Three.js のコンストラクタ引数は args プロパティを通して渡す必要があります
  - BufferAttribute のコンストラクタは new BufferAttribute(array, itemSize, normalized) という形式
  - そのため、count、itemSize、array を個別のプロパティとして渡すことはできません

  ★ Insight 
  
  R3F の args パターン:
  - R3F は Three.js オブジェクトを JSX で表現する際、コンストラクタ引数を args 配列で受け取ります
  - <boxGeometry args={[1, 1, 1]} /> は new BoxGeometry(1, 1, 1) に相当
  - BufferAttribute(array, itemSize) も同様に args={[positions, 3]} と書く必要があります

  count プロパティについて:
  - count は BufferAttribute のコンストラクタ引数ではなく、読み取り専用プロパティです
  - 自動的に array.length / itemSize から計算されるため、指定不要です
  

  修正方法
```js
<bufferAttribute
	attach="attributes-position"
	args={[positions, 3]}
/>
```
  この修正により:
  - ✅ args プロパティが提供され、TypeScript エラーが解消されます
  - ✅ positions 配列と itemSize: 3 が正しく BufferAttribute に渡されます
  - ✅ count は自動的に positions.length / 3 として計算されます