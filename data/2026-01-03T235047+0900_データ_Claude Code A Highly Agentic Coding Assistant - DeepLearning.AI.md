---
source: "https://learn.deeplearning.ai/courses/claude-code-a-highly-agentic-coding-assistant/lesson/33kzc/testing%2C-error-debugging-and-code-refactoring"
published: 2025-08-06
created: 2026-01-03
---
#データ

## 🐛 エラーのデバッグとテスト戦略
*   **問題**: チャットボットがクエリ処理でエラー発生。コードベースにRAGパイプラインのテストが不足。
*   **アプローチ**: Claude Codeに依頼し、まずテストを記述し、そのテストを使ってエラーを特定・修正。
*   **テスト対象ファイル**: `AIGenerator.py`, `rag_system.py`, `search_tools.py`。
*   **使用技術**: `pytest`フレームワークと`ChromaDB`のモックを利用した単体/結合テスト。
*   **Claude Codeの発見**: `MAX_RESULTS`が`0`になっている設定ミスを特定。
*   **結果**: バグを修正し、テストを実行して問題が解決したことを確認。コードベースの堅牢な基盤を構築。

## ⚙️ ツール利用のコードリファクタリング
*   **課題**: `ai_generator.py`は1クエリにつき最大1つのツール呼び出しに制限。より複雑なクエリ（複数コースの比較など）には複数回のツール呼び出しが必要。
*   **目標**: 複数ラウンドでのツール呼び出し（反復的または再帰的）をサポートするようにリファクタリング。
*   **Claude Codeの活用**: 
    *   2つのサブエージェントをディスパッチし、リファクタリングの2つのアプローチ（反復的 vs 包括的）を提案させる。
    *   よりシンプルな「アプローチA」（反復的アプローチ）を選択して実装を依頼。
    *   `max_rounds`引数の追加、システムプロンプトの更新、`handle_tool_execution`メソッドの修正を含む変更を実施。
*   **検証**: 更新されたテストを実行し、期待通りにシーケンシャルなツール呼び出しが機能することを確認。
*   **具体例**: レッスン詳細の取得（1ツール）、特定のレッスンと同じトピックをカバーする他のコースの検索（複数ツール）。

## 🎓 DeepLearning.AI プラットフォーム活用ガイド
*   **ファイルアクセス/ダウンロード/アップロード**: 「File」メニューから「Open」でファイル（helper functions含む）にアクセス。「Download as」でNotebookをダウンロード。「Upload」ボタンでファイルをアップロード。
*   **ワークスペースのリセット**: 右上の「⋮」メニューから「Restore Original Version」を選択。
*   **学習進捗の確認**: 「My Learning」ページ（右上または学習ページ左下）で進捗状況を表示。
*   **動画機能**: 再生速度、キャプション（英語/スペイン語）、画質調整、ピクチャーインピクチャー (PiP) モード。
*   **効率的な学習ヒント**: 集中できる学習スペースの確保、一貫した学習スケジュールの設定、定期的な休憩、コミュニティへの参加、能動的な学習（メモ、要約、実践）。
*   **その他の機能**: 他のショートコースへの登録、コースフィードバックの提供。

#ClaudeCode #AIエージェント #開発効率化